/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => PertinentQuestions
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/Constants.ts
var AppSettings = class {
};
AppSettings.EMAIL_NL = `

`;
// Email new line
AppSettings.EMAIL_SOL = `  `;
//Email start of line
AppSettings.MAC_FOLDER_SEPARATOR = `/`;
AppSettings.ALL_CATEGORIES = "All Categories";
AppSettings.CREATE_PERTINENT_QUESTIONS = "Create Pertinent Questions";
AppSettings.SUBJECT_GOES_HERE = "SUBJECT GOES HERE";
AppSettings.FAO = "FAO";
AppSettings.CONTACTS_FILE_LOCATION = "Enter Contacts File Location";
AppSettings.CONTACTS_IMPORT_FILE = "Contacts Import File";
AppSettings.CAT_INDEX_SUFFIX = "-Index.md";
AppSettings.IMAGE_SPECIFIER = `image:`;
AppSettings.VIDEO_SPECIFIER = `video:`;
AppSettings.CAMPAIGN_SPECIFIER = `campaign:`;
AppSettings.DEADLINE_SPECIFIER = `deadline:`;
AppSettings.QSHORT_SPECIFIER = `qshort:`;
AppSettings.ALIAS_SPECIFIER = `alias:`;
AppSettings.FOOTER_SPECIFIER = `![[Footer]]`;
AppSettings.FOOTER_EMBED = `<div align=center><iframe src="https://projectbubbleburst.substack.com/embed" width="480" height="320" style="border:1px solid #EEE; background:black;" frameborder="0" scrolling="no"></iframe></div><div align=center>ProjectBubbleBurst - Critical Thinking in a Pandemic of Unreason.  	<br/> <b>THINK</b> - While It Is Still Legal...</div>`;
//    public static VIDEO_EMBED1 = `<center><iframe width="560" height="315" src="`;
//    public static VIDEO_EMBED2 = `" frameborder="0" autoplay="0" autostart="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center>`
AppSettings.VIDEO_EMBED1 = `<video width="600" height="400" src="`;
AppSettings.VIDEO_EMBED2 = `" controls></video>`;
AppSettings.TAGS_SPECIFIER = `tags:`;
AppSettings.URI_PLUS = `%2B`;
AppSettings.URI_SPACE = `%20`;
AppSettings.PBB_PQ_DIR = `https://projectbubbleburst.com/Pertinent+Questions/`;
AppSettings.PBB_ROOT = `https://projectbubbleburst.com/`;
AppSettings.VIDEO_HEADING = `
### Video
`;
AppSettings.RESEARCH_MEDIA_HEADING = `## reSearch Media
### Image
`;
AppSettings.TWEET = `[Twitter](https://twitter.com/intent/tweet?text=`;
AppSettings.FACEBOOK_POST = `[Facebook](https://www.facebook.com/sharer.php?u=`;
AppSettings.NUM_QUESTIONS = `Number of Individual Pertinent Questions = `;
AppSettings.TOTAL_NUM_QUESTIONS = `Total Number of Pertinent Questions = `;

// main.ts
var DEFAULT_SETTINGS = {
  questionsFolder: "Questions",
  outputFolder: "Pertinent Questions",
  contactsFile: "contacts.csv"
};
function uniqByObject(array) {
  const result = [];
  let results = 0;
  for (const item of array) {
    let duplicate = false;
    for (let i = 0; i < result.length; i++) {
      if (result[i].emailAddress == item.emailAddress) {
        duplicate = true;
        console.warn(`Duplicate contact found with email address ${item.emailAddress}`);
        break;
      }
      if (result[i].firstName == item.firstName && result[i].lastName == item.lastName) {
        duplicate = true;
        console.warn(`Duplicate contact found with first and last name ${item.firstName} ${item.lastName}`);
        break;
      }
    }
    if (!duplicate) {
      result.push(item);
    }
  }
  return result;
}
var validateEmail = (email) => {
  try {
    return email.toLowerCase().match(
      /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
    );
  } catch (e) {
    console.error(`ERROR: Problem validating Email with ${email}`);
  }
  return false;
};
function validContact(contact) {
  let contactIsValid = true;
  if (contact == null || contact == void 0) {
    console.warn("Invalid contact - null or undefined");
    contactIsValid = false;
  } else if (!validateEmail(contact.emailAddress)) {
    console.warn(`Invalid contact - bad email: ${contact.emailAddress}`);
    contactIsValid = false;
  } else if (contact.firstName.length == 0) {
    console.warn(`Invalid contact - no firstname provided`);
    contactIsValid = false;
  } else if (contact.lastName.length == 0) {
    console.warn(`Invalid contact - no lastname provided`);
    contactIsValid = false;
  }
  return contactIsValid;
}
function fileExists(filePath, app) {
  const folderOrFile = app.vault.getAbstractFileByPath(filePath);
  if (folderOrFile instanceof import_obsidian.TFile) {
    return true;
  }
  return false;
}
function folderExists(filePath, app) {
  const folderOrFile = app.vault.getAbstractFileByPath(filePath);
  if (folderOrFile instanceof import_obsidian.TFolder) {
    return true;
  }
  return false;
}
var PertinentQuestions = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.addCommand({
      id: "create-pertinent-questions",
      name: AppSettings.CREATE_PERTINENT_QUESTIONS,
      callback: async () => {
        const categories = [];
        this.findAllCategories().forEach((cat) => {
          categories.unshift(cat);
        });
        const contacts = await this.getAllContacts(this.settings.contactsFile);
        const suggestModal = new PertinentQuestionsSuggestModal(this.app, categories, contacts, this.settings.outputFolder, this.settings.questionsFolder).open();
      }
    });
    this.addSettingTab(new PertinentSettingTab(this.app, this));
  }
  async getAllContacts(theContactFile) {
    const contacts = [];
    const folderOrFile = this.app.vault.getAbstractFileByPath(theContactFile);
    if (folderOrFile instanceof import_obsidian.TFile) {
      let fileContents = await this.app.vault.cachedRead(folderOrFile);
      const fileLines = fileContents.split("\n");
      for (let j = 0; j < fileLines.length - 1; j++) {
        const [title, firstName, lastName, emailAddress] = fileLines[j].split(",");
        const contact = { title, firstName, lastName, emailAddress };
        if (contact != null)
          console.debug(`contact = ${contact.title} and ${contact.firstName} and ${contact.lastName} and ${contact.emailAddress}`);
        if (validContact(contact)) {
          contacts.unshift(contact);
        } else {
          console.warn(`Invalid contact found - contact = ${contact}`);
        }
      }
      return uniqByObject(contacts);
    }
    return contacts;
  }
  findAllCategories() {
    const categories = [];
    function extractSecondLevelFolder(str) {
      const regex = /\/([^\/]*)\//;
      const match = str.match(regex);
      return match ? match[1] : null;
    }
    const folderOrFile = this.app.vault.getAbstractFileByPath(this.settings.questionsFolder);
    let numFolders = 0;
    if (folderOrFile instanceof import_obsidian.TFolder) {
      for (let child of folderOrFile.children) {
        if (child instanceof import_obsidian.TFile) {
        } else {
          const categoryFolder = this.app.vault.getAbstractFileByPath(child.path);
          if (categoryFolder instanceof import_obsidian.TFolder) {
            for (let innerChild of categoryFolder.children) {
              if (innerChild instanceof import_obsidian.TFile) {
                const substring = extractSecondLevelFolder(innerChild.path);
                if (substring != null) {
                  console.debug(`DEBUG: substring = ${substring}`);
                  if (!categories.contains(substring)) {
                    categories.unshift(substring);
                  }
                } else {
                  console.warn(`Couldn't extract folder substring from ${innerChild.path}`);
                }
              }
            }
          }
        }
      }
      console.debug(`numFolders=${numFolders}`);
    } else {
      console.warn(`NOT AN INSTANCE OF TFolder instead it is ${folderOrFile}`);
    }
    return categories;
  }
  onunload() {
    console.info("Unloading PertinentQuestions plugin...");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var PertinentQuestionsSuggestModal = class extends import_obsidian.SuggestModal {
  constructor(app, categories, contacts, outputFolder, questionsFolder) {
    super(app);
    this.vault = app.vault;
    this.categories = categories;
    this.contacts = contacts;
    this.outputFolder = outputFolder;
    this.questionsFolder = questionsFolder;
  }
  // Returns all available suggestions.
  getSuggestions(query) {
    this.categories.sort();
    if (this.categories[0] != AppSettings.ALL_CATEGORIES) {
      const index = this.categories.indexOf(AppSettings.ALL_CATEGORIES);
      this.categories.unshift(AppSettings.ALL_CATEGORIES);
    }
    return this.categories.filter(
      (cat) => cat.toLowerCase().includes(query.toLowerCase())
    );
  }
  // Renders each suggestion item.
  renderSuggestion(cat, el) {
    el.createEl("div", { text: cat });
  }
  // Perform action on the selected suggestion.
  async onChooseSuggestion(cat, evt) {
    this.createFolder(this.outputFolder);
    let theContent = "\n\n## Contacts\n> [!NOTE]\n>**Remember - send the questions to your friends, family, colleagues and local businesses first and foremost to avoid central censorship.**\n>\n> *To pose a pertinent question, the question must first be unapposed.*\n\nBelow is a short list of some country political representatives and WEF aligned companies. For further information, see: https://en.wikipedia.org/wiki/List_of_legislatures_by_country";
    theContent = theContent.concat("\n\n### Global\n- WEF Companies - https://www.weforum.org/partners#search [Let them know where your money will not be spent](https://projectbubbleburst.com/Actions/Action+18+-+Let+them+know+-+FTheWEF)");
    theContent = theContent.concat("\n### Australia\n- List Senators and Members: https://www.aph.gov.au/Senators_and_Members/Parliamentarian_Search_Results?q=&mem=1&par=-1&gen=0&ps=0");
    theContent = theContent.concat("\n### Canada\n- List of MPs: https://www.ourcommons.ca/members/en/search");
    theContent = theContent.concat("\n### EU\n- List of MEPs: https://www.europarl.europa.eu/meps/en/full-list/all");
    theContent = theContent.concat("\n### Finland\n- List of MPs: https://www.eduskunta.fi/EN/kansanedustajat/nykyiset_kansanedustajat/Pages/default.aspx");
    theContent = theContent.concat("\n### Germany\n- List of MPs: https://www.bundestag.de/en/members");
    theContent = theContent.concat("\n### Ireland\n- List of TDs and Senators: https://www.oireachtas.ie/en/members/");
    theContent = theContent.concat("\n### Netherlands\n- List of MPs: https://www.houseofrepresentatives.nl/members_of_parliament/members_of_parliament");
    theContent = theContent.concat("\n### New Zealand\n- List of MPs: https://www.parliament.nz/en/mps-and-electorates/members-of-parliament/");
    theContent = theContent.concat("\n### Norway\n- List of MPs: https://www.stortinget.no/en/In-English/Members-of-the-Storting/current-members-of-parliament/");
    theContent = theContent.concat("\n### Sweden\n- List of MPs: https://www.riksdagen.se/en/Members-and-parties/");
    theContent = theContent.concat("\n### Switzerland\n- List of MPs: https://www.parlament.ch/en/organe/national-council/members-national-council-a-z");
    theContent = theContent.concat("\n### UK\n- Spreadsheet list of MPs: https://www.theyworkforyou.com/mps/?f=csv\n- Find your MP: https://members.parliament.uk/members/commons\n- Find a Lord: https://members.parliament.uk/members/lords");
    theContent = theContent.concat("\n### US\n- List of Senators: https://www.senate.gov/senators/");
    this.createFile("/Pertinent Contacts.md", theContent);
    if (cat != AppSettings.ALL_CATEGORIES) {
      this.categories = [cat];
    } else {
      this.categories.shift();
    }
    let totalQuestionCount = 0;
    theContent = "";
    let allQuestionsCount = 0;
    for (let j = 0; j < this.categories.length; j++) {
      let catQuestionsCount = 0;
      console.debug(`cat ${j} = ${this.categories[j]}`);
      let theQuestions = await this.getCategoryQuestions(this.categories[j]);
      const theFolder = this.outputFolder.concat(AppSettings.MAC_FOLDER_SEPARATOR).concat(this.categories[j]);
      if (theQuestions != null) {
        this.createFolder(theFolder);
        allQuestionsCount = allQuestionsCount + theQuestions.length;
        catQuestionsCount = theQuestions.length;
        if (this.contacts.length > 0) {
          for (let i = 0; i < this.contacts.length; i++) {
            for (let k = 0; k < theQuestions.length; k++) {
              let theQuestion = theQuestions[k];
              this.writeQuestionFile(theQuestion, theFolder, this.categories[j], this.contacts.at(i));
              totalQuestionCount++;
            }
          }
        } else {
          for (let k = 0; k < theQuestions.length; k++) {
            let theQuestion = theQuestions[k];
            this.writeQuestionFile(theQuestion, theFolder, this.categories[j]);
            totalQuestionCount++;
          }
        }
      } else {
        console.warn(`Couldn't read any file at ${this.questionsFolder} `);
      }
      const cat2 = this.categories[j];
      const theFileName = theFolder.concat("/").concat(cat2 + AppSettings.CAT_INDEX_SUFFIX);
      theContent = `---
publish: true
sent: false
category: ${cat2}
---
## Instructions
- [FAQ and Help](https://projectbubbleburst.com/Pertinent+Questions+Help)

- [Support Us](https://projectbubbleburst.com/Support+Us)

## ${cat2} Pertinent Questions
`;
      for (let q = 0; q < catQuestionsCount; q++) {
        const qPlus = q + 1;
        theContent = theContent.concat("- " + AppSettings.PBB_ROOT.concat(cat2) + `-${qPlus}
`);
      }
      theContent = theContent.concat(AppSettings.FOOTER_EMBED);
      theContent = theContent.concat(AppSettings.EMAIL_NL + AppSettings.NUM_QUESTIONS + catQuestionsCount);
      this.createFile(theFileName, theContent);
    }
    theContent = "";
    theContent = theContent.concat(AppSettings.FOOTER_EMBED);
    theContent = theContent.concat(AppSettings.EMAIL_NL + AppSettings.NUM_QUESTIONS + allQuestionsCount);
    theContent = theContent.concat(AppSettings.EMAIL_NL + AppSettings.TOTAL_NUM_QUESTIONS + totalQuestionCount);
    this.createFile("/Footer.md", theContent);
    new import_obsidian.Notice(`${cat} questions created/updated`);
  }
  isACampaign(campaign) {
    let itIs = false;
    if (campaign == null) {
      ;
    } else if (campaign == void 0) {
      ;
    } else if (campaign.contains("true")) {
      itIs = true;
    }
    return itIs;
  }
  getTags(tags) {
    let theTags = "";
    if (tags == null) {
      ;
    } else if (tags == void 0) {
      ;
    } else if (tags == "") {
      ;
    } else {
      try {
        const theTagsArray = tags.split(",");
        theTags = AppSettings.TAGS_SPECIFIER.concat(" [");
        for (let i = 0; i < theTagsArray.length; i++) {
          if (i != 0) {
            theTags = theTags.concat(",");
          }
          theTags = theTags.concat(theTagsArray[i]);
        }
        theTags = theTags.concat("]");
      } catch (e) {
        console.error(`Uncaught exception getting tags: ${e}`);
      }
    }
    return theTags;
  }
  getDeadline(deadline) {
    let theDeadline = "";
    if (deadline == null) {
      ;
    } else if (deadline == void 0) {
      ;
    } else if (deadline == "") {
      ;
    } else {
      try {
        theDeadline = AppSettings.DEADLINE_SPECIFIER.concat(" ").concat(deadline.replace(/\s/g, ""));
      } catch (e) {
        console.error(`Uncaught exception in getDeadline: ${e}`);
      }
    }
    return theDeadline;
  }
  formatHashtags(theQuestion) {
    let theTags = "";
    if (theQuestion.tags.length > 0) {
      const tagsArray = theQuestion.tags.replace(/,/g, " ").split(" ");
      let tags = "";
      for (let i = 0; i < tagsArray.length; i++) {
        tags = tags.concat("#").concat(tagsArray[i]).concat(" ");
      }
      theTags = theTags.concat(tags);
    }
    return theTags;
  }
  async writeQuestionFile(theQuestion, theFolder, category, contact) {
    const theSubject = AppSettings.SUBJECT_GOES_HERE;
    const aCampaign = this.isACampaign(theQuestion.campaign);
    let deadline = this.getDeadline(theQuestion.deadline);
    if (deadline != "") {
      deadline = "\n".concat(deadline);
    }
    let tags = this.getTags(theQuestion.tags);
    if (tags != "") {
      tags = "\n".concat(tags);
    }
    let theFileFrontMatter = "";
    if (aCampaign) {
      theFileFrontMatter = `---
publish: true
sent: false
alias: ${theQuestion.alias}
category: ${category}
campaign: ${aCampaign}${deadline}${tags}
---
## Instructions
[FAQ and Help](https://projectbubbleburst.com/Pertinent+Questions+Help)

- reSearch - The content and reSearch Media. Make sure you personalise your email with your own reasoned arguments and feelings.
- Send It!
- Share It!
- [Support Us](https://projectbubbleburst.com/Support+Us)

## Send It
Personalise the message below

`;
    } else {
      theFileFrontMatter = `---
publish: true
sent: false
alias: ${theQuestion.alias}
category: ${category}${tags}
---
## Instructions
[FAQ and Help](https://projectbubbleburst.com/Pertinent+Questions+Help)

- reSearch - The content and reSearch Media. Make sure you personalise your email with your own reasoned arguments and feelings.
- Send It!
- Share It!
- [Support Us](https://projectbubbleburst.com/Support+Us)

## Send It
Personalise the message below

`;
    }
    const theQuestionFile = theQuestion.body.split(AppSettings.EMAIL_NL, 2);
    let theQuestionFileName = "";
    if (theQuestion.qshort != void 0 && theQuestion.qshort.length > 0) {
      theQuestionFileName = theQuestion.qshort.trimStart().trimEnd();
    } else {
      theQuestionFileName = theQuestionFile[0];
    }
    const indexBodyStart = theQuestion.body.indexOf(AppSettings.EMAIL_NL) + AppSettings.EMAIL_NL.length;
    const theQuestionBody = theQuestion.body.substring(indexBodyStart);
    if (indexBodyStart != void 0) {
      let theBody = "";
      let theFileName = "";
      if (contact) {
        theBody = `${AppSettings.FAO} ${contact.title} ${contact.firstName} ${contact.lastName}` + AppSettings.EMAIL_NL + `${theQuestionBody}`;
        theFileName = theFolder.concat("/").concat(contact.firstName + contact.lastName + "-" + theQuestionFileName + ".md");
      } else {
        theBody = `${AppSettings.FAO}` + AppSettings.EMAIL_NL + `${theQuestionBody}`;
        theFileName = theFolder.concat("/").concat(theQuestionFileName) + ".md";
      }
      let theFile = await this.createFile(theFileName, theFileFrontMatter);
      if (theFile instanceof import_obsidian.TFile) {
        let theContent = "";
        let re = /"/g;
        const lineStart = AppSettings.EMAIL_NL.concat(AppSettings.EMAIL_SOL);
        theBody = theBody.concat(lineStart);
        theBody = theBody.concat(`More About ${category}: `).concat(AppSettings.PBB_PQ_DIR).concat(category).concat(`/${category}-Index`);
        theBody = theBody.replace(re, "%22");
        re = /`/g;
        theBody = theBody.replace(re, "%60");
        re = /---(\n|.)*?---/g;
        theBody = theBody.replace(re, "");
        if (contact) {
          theContent = "```email\n".concat(`to: ${contact.emailAddress}
subject: ${theSubject}
`);
        } else {
          theContent = "```email\n".concat(`to: someone@example.com
subject: ${theSubject}
`);
        }
        theContent = theContent.concat(`body: "${theBody}"
`).concat("```\n");
        theContent = theContent.concat(AppSettings.EMAIL_NL).concat("\n> [!NOTE] Note\n>Please see [[Pertinent Contacts|Contacts]] for political representatives and other ideas for who to send information\n## Share It\n");
        let tweet = AppSettings.TWEET;
        let tweetBody = this.formatHashtags(theQuestion);
        re = / /g;
        tweetBody = tweetBody.concat(AppSettings.PBB_PQ_DIR).concat(theQuestionFileName.replace(re, "+"));
        tweet = tweet.concat(encodeURIComponent(tweetBody)).concat(")\n");
        theContent = theContent.concat(tweet);
        let fb = AppSettings.FACEBOOK_POST;
        let fbBody = this.formatHashtags(theQuestion);
        fbBody = fbBody.concat(AppSettings.PBB_PQ_DIR).concat(theQuestionFileName.replace(re, "+"));
        fb = fb.concat(encodeURIComponent(fbBody)).concat(")\n\n");
        theContent = theContent.concat(fb);
        theContent = theContent.concat(AppSettings.RESEARCH_MEDIA_HEADING);
        if (theQuestion.image.length > 0) {
          theContent = theContent.concat(AppSettings.EMAIL_NL).concat(theQuestion.image);
        }
        theContent = theContent.concat(AppSettings.VIDEO_HEADING);
        if (theQuestion.video.length > 0) {
          theContent = theContent.concat(theQuestion.video);
        }
        theContent = theContent.concat(AppSettings.EMAIL_NL).concat(AppSettings.FOOTER_SPECIFIER);
        try {
          await this.app.vault.append(theFile, theContent);
        } catch (e) {
          console.error(`Could not append to file: ${theFileName} due to ${e}`);
        }
      } else {
        console.error(`Error - could not create file for ${theFileName}`);
      }
    }
  }
  // function constructTweet(str: string): string | null {
  // 	const regex = /\/([^\/]*)\//;
  // 	const match = str.match(regex);
  // 	return match ? match[1] : null;
  // }
  async createFile(theFilePath, content) {
    try {
      if (!fileExists(theFilePath, this.app)) {
        let createdFile = await this.app.vault.create(theFilePath, content);
        console.debug(`DEBUG:Created File ${theFilePath}`);
        return createdFile;
      }
    } catch (e) {
      console.error(`createFile: filePath: $theFilePath, error: ${e}`);
    }
    return null;
  }
  async createFolder(theFolder) {
    try {
      if (!folderExists(theFolder, this.app)) {
        await this.app.vault.createFolder(theFolder);
      }
    } catch (e) {
      console.error(e);
    }
  }
  // getCategoryQuestions adds the file name as the first line/element in the return string
  async getCategoryQuestions(category) {
    try {
      const folderOrFile = this.app.vault.getAbstractFileByPath(this.questionsFolder.concat(AppSettings.MAC_FOLDER_SEPARATOR.concat(category)));
      if (folderOrFile instanceof import_obsidian.TFolder) {
        const theQuestions = [];
        for (let child of folderOrFile.children) {
          if (child instanceof import_obsidian.TFile) {
            if (child.extension.endsWith("md")) {
              let theQuestionLines = await this.app.vault.cachedRead(child);
              const index = child.path.lastIndexOf(AppSettings.MAC_FOLDER_SEPARATOR);
              if (index != void 0) {
                let theFileFullPath = child.path + "\n";
                const theQuestion = { body: "", image: "", video: "", tags: "", campaign: "", deadline: "", alias: "", qshort: "" };
                theQuestion.body = theFileFullPath.substring(index + 1, theFileFullPath.length - 4);
                const questionLines = theQuestionLines.split("\n");
                const lineStart = AppSettings.EMAIL_NL.concat(AppSettings.EMAIL_SOL);
                for (let i = 0; i < questionLines.length; i++) {
                  if (questionLines[i].contains(AppSettings.IMAGE_SPECIFIER)) {
                    theQuestion.image = questionLines[i].split(AppSettings.IMAGE_SPECIFIER)[1];
                  } else if (questionLines[i].contains(AppSettings.VIDEO_SPECIFIER)) {
                    theQuestion.video = questionLines[i].split(AppSettings.VIDEO_SPECIFIER)[1];
                  } else if (questionLines[i].contains(AppSettings.TAGS_SPECIFIER)) {
                    theQuestion.tags = questionLines[i].split(AppSettings.TAGS_SPECIFIER)[1];
                  } else if (questionLines[i].contains(AppSettings.CAMPAIGN_SPECIFIER)) {
                    theQuestion.campaign = questionLines[i].split(AppSettings.CAMPAIGN_SPECIFIER)[1];
                  } else if (questionLines[i].contains(AppSettings.DEADLINE_SPECIFIER)) {
                    theQuestion.deadline = questionLines[i].split(AppSettings.DEADLINE_SPECIFIER)[1];
                  } else if (questionLines[i].contains(AppSettings.ALIAS_SPECIFIER)) {
                    theQuestion.alias = questionLines[i].split(AppSettings.ALIAS_SPECIFIER)[1];
                  } else if (questionLines[i].contains(AppSettings.QSHORT_SPECIFIER)) {
                    theQuestion.qshort = questionLines[i].split(AppSettings.QSHORT_SPECIFIER)[1];
                  } else if (questionLines[i].contains(AppSettings.FOOTER_SPECIFIER)) {
                    ;
                  } else {
                    theQuestion.body += lineStart.concat(questionLines[i]);
                  }
                }
                theQuestions.unshift(theQuestion);
              }
            }
          }
        }
        return theQuestions;
      } else {
        console.warn(`Expected folder in getCategoryQuestions param but sent ${this.questionsFolder.concat(category)}`);
        return null;
      }
    } catch (e) {
      console.error(e);
    }
    return null;
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var PertinentSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "General Settings" });
    new import_obsidian.Setting(containerEl).setName("Questions Folder").setDesc("Enter the Folder Location").addText((text) => text.setPlaceholder("Enter Questions Folder").setValue(this.plugin.settings.questionsFolder).onChange(async (value) => {
      console.debug("Questions Location: " + value);
      this.plugin.settings.questionsFolder = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Questions Output Folder").setDesc("Enter the Pertinent Questions Output Folder Location").addText((text) => text.setPlaceholder("Enter Pertinent Questions Output Folder").setValue(this.plugin.settings.outputFolder).onChange(async (value) => {
      console.debug("Output Folder Location: " + value);
      this.plugin.settings.outputFolder = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName(AppSettings.CONTACTS_IMPORT_FILE).setDesc("Enter the Contacts Import File Location").addText((text) => text.setPlaceholder(AppSettings.CONTACTS_FILE_LOCATION).setValue(this.plugin.settings.contactsFile).onChange(async (value) => {
      this.plugin.settings.contactsFile = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvQ29uc3RhbnRzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgU3VnZ2VzdE1vZGFsLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgVEZpbGUsIFRGb2xkZXIsIFdvcmtzcGFjZUxlYWYsIFZhdWx0IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgQXBwU2V0dGluZ3MgYXMgQ29uc3RhbnRzIH0gZnJvbSBcInNyYy9Db25zdGFudHNcIjtcblxuLy8gaW1wb3J0IHsgQ1NWVmlldywgVklFV19UWVBFX0NTViB9IGZyb20gXCIuL3ZpZXdcIjtcblxuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXG5cbmludGVyZmFjZSBQZXJ0aW5lbnRRdWVzdGlvbnNTZXR0aW5ncyB7XG5cdHF1ZXN0aW9uc0ZvbGRlcjogc3RyaW5nO1xuXHRvdXRwdXRGb2xkZXI6IHN0cmluZztcblx0Y29udGFjdHNGaWxlOiBzdHJpbmc7XG5cblxufVxuXG50eXBlIENvbnRhY3QgPSB7XG5cdHRpdGxlOiBzdHJpbmc7XG5cdGZpcnN0TmFtZTogc3RyaW5nO1xuXHRsYXN0TmFtZTogc3RyaW5nO1xuXHRlbWFpbEFkZHJlc3M6IHN0cmluZztcbn07XG5cbnR5cGUgUXVlc3Rpb25JbmZvID0ge1xuXHRib2R5OiBzdHJpbmc7XG5cdGltYWdlOiBzdHJpbmc7XG5cdHZpZGVvOiBzdHJpbmc7XG5cdHRhZ3M6IHN0cmluZztcblx0Y2FtcGFpZ246IHN0cmluZztcblx0ZGVhZGxpbmU6IHN0cmluZztcblx0cXNob3J0OiBzdHJpbmc7XG5cdGFsaWFzOiBzdHJpbmc7XG59XG5cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUGVydGluZW50UXVlc3Rpb25zU2V0dGluZ3MgPSB7XG5cdHF1ZXN0aW9uc0ZvbGRlcjogJ1F1ZXN0aW9ucycsXG5cdG91dHB1dEZvbGRlcjogJ1BlcnRpbmVudCBRdWVzdGlvbnMnLFxuXHRjb250YWN0c0ZpbGU6ICdjb250YWN0cy5jc3YnXG5cbn1cblxuZnVuY3Rpb24gdW5pcUJ5T2JqZWN0KGFycmF5OiBDb250YWN0W10pOiBDb250YWN0W10ge1xuXHRjb25zdCByZXN1bHQ6IENvbnRhY3RbXSA9IFtdO1xuXHRsZXQgcmVzdWx0cyA9IDA7XG5cdGZvciAoY29uc3QgaXRlbSBvZiBhcnJheSkge1xuXHRcdGxldCBkdXBsaWNhdGUgPSBmYWxzZTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHJlc3VsdFtpXS5lbWFpbEFkZHJlc3MgPT0gaXRlbS5lbWFpbEFkZHJlc3MpIHtcblx0XHRcdFx0ZHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBEdXBsaWNhdGUgY29udGFjdCBmb3VuZCB3aXRoIGVtYWlsIGFkZHJlc3MgJHtpdGVtLmVtYWlsQWRkcmVzc31gKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoKHJlc3VsdFtpXS5maXJzdE5hbWUgPT0gaXRlbS5maXJzdE5hbWUpICYmIChyZXN1bHRbaV0ubGFzdE5hbWUgPT0gaXRlbS5sYXN0TmFtZSkpIHtcblx0XHRcdFx0ZHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBEdXBsaWNhdGUgY29udGFjdCBmb3VuZCB3aXRoIGZpcnN0IGFuZCBsYXN0IG5hbWUgJHtpdGVtLmZpcnN0TmFtZX0gJHtpdGVtLmxhc3ROYW1lfWApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFkdXBsaWNhdGUpIHtcblx0XHRcdHJlc3VsdC5wdXNoKGl0ZW0pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5jb25zdCB2YWxpZGF0ZUVtYWlsID0gKGVtYWlsOiBzdHJpbmcpID0+IHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZW1haWxcblx0XHRcdC50b0xvd2VyQ2FzZSgpXG5cdFx0XHQubWF0Y2goXG5cdFx0XHRcdC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwuKFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC9cblx0XHRcdCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKGBFUlJPUjogUHJvYmxlbSB2YWxpZGF0aW5nIEVtYWlsIHdpdGggJHtlbWFpbH1gKTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG5mdW5jdGlvbiB2YWxpZENvbnRhY3QoY29udGFjdDogQ29udGFjdCk6IGJvb2xlYW4ge1xuXHRsZXQgY29udGFjdElzVmFsaWQgPSB0cnVlO1xuXHRpZiAoY29udGFjdCA9PSBudWxsIHx8IGNvbnRhY3QgPT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29uc29sZS53YXJuKFwiSW52YWxpZCBjb250YWN0IC0gbnVsbCBvciB1bmRlZmluZWRcIik7XG5cdFx0Y29udGFjdElzVmFsaWQgPSBmYWxzZTtcblx0fSBlbHNlIGlmICghdmFsaWRhdGVFbWFpbChjb250YWN0LmVtYWlsQWRkcmVzcykpIHtcblx0XHRjb25zb2xlLndhcm4oYEludmFsaWQgY29udGFjdCAtIGJhZCBlbWFpbDogJHtjb250YWN0LmVtYWlsQWRkcmVzc31gKTtcblx0XHRjb250YWN0SXNWYWxpZCA9IGZhbHNlO1xuXHR9IGVsc2UgaWYgKGNvbnRhY3QuZmlyc3ROYW1lLmxlbmd0aCA9PSAwKSB7XG5cdFx0Y29uc29sZS53YXJuKGBJbnZhbGlkIGNvbnRhY3QgLSBubyBmaXJzdG5hbWUgcHJvdmlkZWRgKTtcblx0XHRjb250YWN0SXNWYWxpZCA9IGZhbHNlO1xuXHR9IGVsc2UgaWYgKGNvbnRhY3QubGFzdE5hbWUubGVuZ3RoID09IDApIHtcblx0XHRjb25zb2xlLndhcm4oYEludmFsaWQgY29udGFjdCAtIG5vIGxhc3RuYW1lIHByb3ZpZGVkYCk7XG5cdFx0Y29udGFjdElzVmFsaWQgPSBmYWxzZTtcblx0fVxuXG5cdHJldHVybiBjb250YWN0SXNWYWxpZDtcbn1cblxuZnVuY3Rpb24gZmlsZUV4aXN0cyhmaWxlUGF0aDogc3RyaW5nLCBhcHA6IEFwcCk6IGJvb2xlYW4ge1xuXHRjb25zdCBmb2xkZXJPckZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcblx0aWYgKGZvbGRlck9yRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xuXG59XG5cbmZ1bmN0aW9uIGZvbGRlckV4aXN0cyhmaWxlUGF0aDogc3RyaW5nLCBhcHA6IEFwcCk6IGJvb2xlYW4ge1xuXHRjb25zdCBmb2xkZXJPckZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcblxuXHRpZiAoZm9sZGVyT3JGaWxlIGluc3RhbmNlb2YgVEZvbGRlcikge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcblxufVxuXG4vLyBmdW5jdGlvbiBnZXRTaGFyZVRoaXMoaW1hZ2U6IGJvb2xlYW4sIHZpZGVvOiBib29sZWFuKTogc3RyaW5nIHtcbi8vIFx0Ly9Ud2l0dGVyXG4vLyBcdC8vVGVsZWdyYW1cbi8vIFx0Ly9XaGF0c2FwcFxuLy8gXHQvL0ZhY2Vib29rXG4vLyBcdC8vUGludGVyZXN0XG4vLyBcdC8vV29yZHByZXNzXG4vLyBcdC8vVGlrdG9rXG4vLyBcdGlmIChpbWFnZSl7XG5cbi8vIFx0fVxuLy8gXHRpZiB7dmlkZW99e1xuXG4vLyBcdH1cbi8vIFx0cmV0dXJuIFwiXCI7XG4vLyB9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlcnRpbmVudFF1ZXN0aW9ucyBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBQZXJ0aW5lbnRRdWVzdGlvbnNTZXR0aW5ncztcblxuXG5cblx0YXN5bmMgb25sb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBBZGQgY29tbWFuZCB0byBsYXVuY2ggQXNrIFBlcnRpbmVudCBRdWVzdGlvbnNcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjcmVhdGUtcGVydGluZW50LXF1ZXN0aW9ucycsXG5cdFx0XHRuYW1lOiBDb25zdGFudHMuQ1JFQVRFX1BFUlRJTkVOVF9RVUVTVElPTlMsXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBjYXRlZ29yaWVzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdFx0XHR0aGlzLmZpbmRBbGxDYXRlZ29yaWVzKCkuZm9yRWFjaChjYXQgPT4ge1xuXHRcdFx0XHRcdGNhdGVnb3JpZXMudW5zaGlmdChjYXQpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjb25zdCBjb250YWN0czogQ29udGFjdFtdID0gYXdhaXQgdGhpcy5nZXRBbGxDb250YWN0cyh0aGlzLnNldHRpbmdzLmNvbnRhY3RzRmlsZSk7XG5cblx0XHRcdFx0Y29uc3Qgc3VnZ2VzdE1vZGFsID0gbmV3IFBlcnRpbmVudFF1ZXN0aW9uc1N1Z2dlc3RNb2RhbCh0aGlzLmFwcCwgY2F0ZWdvcmllcywgY29udGFjdHMsIHRoaXMuc2V0dGluZ3Mub3V0cHV0Rm9sZGVyLCB0aGlzLnNldHRpbmdzLnF1ZXN0aW9uc0ZvbGRlcikub3BlbigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBQZXJ0aW5lbnRTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXG5cblx0YXN5bmMgZ2V0QWxsQ29udGFjdHModGhlQ29udGFjdEZpbGU6IHN0cmluZyk6IFByb21pc2U8Q29udGFjdFtdPiB7XG5cdFx0Y29uc3QgY29udGFjdHM6IENvbnRhY3RbXSA9IFtdO1xuXG5cdFx0Y29uc3QgZm9sZGVyT3JGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoZUNvbnRhY3RGaWxlKTtcblxuXHRcdGlmIChmb2xkZXJPckZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0bGV0IGZpbGVDb250ZW50czogc3RyaW5nID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZChmb2xkZXJPckZpbGUpO1xuXHRcdFx0Y29uc3QgZmlsZUxpbmVzID0gZmlsZUNvbnRlbnRzLnNwbGl0KFwiXFxuXCIpO1xuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBmaWxlTGluZXMubGVuZ3RoIC0gMTsgaisrKSB7XG5cblx0XHRcdFx0Y29uc3QgW3RpdGxlLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbEFkZHJlc3NdID0gZmlsZUxpbmVzW2pdLnNwbGl0KFwiLFwiKTtcblx0XHRcdFx0Y29uc3QgY29udGFjdDogQ29udGFjdCA9IHsgdGl0bGUsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsQWRkcmVzcyB9O1xuXHRcdFx0XHRpZiAoY29udGFjdCAhPSBudWxsKVxuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYGNvbnRhY3QgPSAke2NvbnRhY3QudGl0bGV9IGFuZCAke2NvbnRhY3QuZmlyc3ROYW1lfSBhbmQgJHtjb250YWN0Lmxhc3ROYW1lfSBhbmQgJHtjb250YWN0LmVtYWlsQWRkcmVzc31gKTtcblx0XHRcdFx0aWYgKHZhbGlkQ29udGFjdChjb250YWN0KSkge1xuXHRcdFx0XHRcdGNvbnRhY3RzLnVuc2hpZnQoY29udGFjdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKGBJbnZhbGlkIGNvbnRhY3QgZm91bmQgLSBjb250YWN0ID0gJHtjb250YWN0fWApO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHRcdHJldHVybiB1bmlxQnlPYmplY3QoY29udGFjdHMpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb250YWN0cztcblx0fVxuXG5cdGZpbmRBbGxDYXRlZ29yaWVzKCk6IHN0cmluZ1tdIHtcblx0XHQvLyAgY29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cdFx0Y29uc3QgY2F0ZWdvcmllczogc3RyaW5nW10gPSBbXTtcblxuXHRcdGZ1bmN0aW9uIGV4dHJhY3RTZWNvbmRMZXZlbEZvbGRlcihzdHI6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuXHRcdFx0Y29uc3QgcmVnZXggPSAvXFwvKFteXFwvXSopXFwvLztcblx0XHRcdGNvbnN0IG1hdGNoID0gc3RyLm1hdGNoKHJlZ2V4KTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBudWxsO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZvbGRlck9yRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLnF1ZXN0aW9uc0ZvbGRlcik7XG5cdFx0bGV0IG51bUZvbGRlcnMgPSAwO1xuXG5cdFx0aWYgKGZvbGRlck9yRmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdGZvciAobGV0IGNoaWxkIG9mIGZvbGRlck9yRmlsZS5jaGlsZHJlbikge1xuXHRcdFx0XHRpZiAoY2hpbGQgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHRcdC8vIFRvcCBsZXZlbCBRdWVzdGlvbnMgY2F0ZWdvcnkgZmlsZVxuXHRcdFx0XHR9IGVsc2UgeyAvLyBDYXRlZ29yeSBGb2xkZXJcblx0XHRcdFx0XHRjb25zdCBjYXRlZ29yeUZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChjaGlsZC5wYXRoKVxuXHRcdFx0XHRcdGlmIChjYXRlZ29yeUZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdFx0XHRcdGZvciAobGV0IGlubmVyQ2hpbGQgb2YgY2F0ZWdvcnlGb2xkZXIuY2hpbGRyZW4pIHtcblx0XHRcdFx0XHRcdFx0aWYgKGlubmVyQ2hpbGQgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHN1YnN0cmluZyA9IGV4dHJhY3RTZWNvbmRMZXZlbEZvbGRlcihpbm5lckNoaWxkLnBhdGgpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzdWJzdHJpbmcgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgREVCVUc6IHN1YnN0cmluZyA9ICR7c3Vic3RyaW5nfWApO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjYXRlZ29yaWVzLmNvbnRhaW5zKHN1YnN0cmluZykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2F0ZWdvcmllcy51bnNoaWZ0KHN1YnN0cmluZyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKGBDb3VsZG4ndCBleHRyYWN0IGZvbGRlciBzdWJzdHJpbmcgZnJvbSAke2lubmVyQ2hpbGQucGF0aH1gKTtcblx0XHRcdFx0XHRcdFx0XHR9IC8vIGVuZGlmIHN1YnN0cmluZ1xuXHRcdFx0XHRcdFx0XHR9IC8vIGVuZGlmIGlubmVyY0hJTERcblx0XHRcdFx0XHRcdH0gLy9lbmRmb3IgaW5uZXJjaGlsZFxuXHRcdFx0XHRcdH0gLy9lbmRpZiBpbnN0YW5jZW9mIFRGb2xkZXJcblx0XHRcdFx0fSAvL2VuZGlmIGluc3RhbmNlIG9mIFRGaWxlXG5cblx0XHRcdH0vL2VuZGZvciBjaGlsZCBvZiB0Zm9sZGVyXG5cdFx0XHRjb25zb2xlLmRlYnVnKGBudW1Gb2xkZXJzPSR7bnVtRm9sZGVyc31gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGBOT1QgQU4gSU5TVEFOQ0UgT0YgVEZvbGRlciBpbnN0ZWFkIGl0IGlzICR7Zm9sZGVyT3JGaWxlfWApO1xuXHRcdH1cblxuXHRcdHJldHVybiBjYXRlZ29yaWVzO1xuXHR9XG5cblxuXG5cdG9udW5sb2FkKCkge1xuXHRcdGNvbnNvbGUuaW5mbyhcIlVubG9hZGluZyBQZXJ0aW5lbnRRdWVzdGlvbnMgcGx1Z2luLi4uXCIpO1xuXHR9XG5cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5cblxuY2xhc3MgUGVydGluZW50UXVlc3Rpb25zU3VnZ2VzdE1vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xuXHRjYXRlZ29yaWVzOiBzdHJpbmdbXTtcblx0Y29udGFjdHM6IENvbnRhY3RbXTtcblx0b3V0cHV0Rm9sZGVyOiBzdHJpbmc7XG5cdHF1ZXN0aW9uc0ZvbGRlcjogc3RyaW5nO1xuXHR2YXVsdDogVmF1bHQ7XG5cblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgY2F0ZWdvcmllczogc3RyaW5nW10sIGNvbnRhY3RzOiBDb250YWN0W10sIG91dHB1dEZvbGRlcjogc3RyaW5nLCBxdWVzdGlvbnNGb2xkZXI6IHN0cmluZykge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy52YXVsdCA9IGFwcC52YXVsdDtcblx0XHR0aGlzLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuXHRcdHRoaXMuY29udGFjdHMgPSBjb250YWN0cztcblx0XHR0aGlzLm91dHB1dEZvbGRlciA9IG91dHB1dEZvbGRlcjtcblx0XHR0aGlzLnF1ZXN0aW9uc0ZvbGRlciA9IHF1ZXN0aW9uc0ZvbGRlcjtcblx0fVxuXHQvLyBSZXR1cm5zIGFsbCBhdmFpbGFibGUgc3VnZ2VzdGlvbnMuXG5cdGdldFN1Z2dlc3Rpb25zKHF1ZXJ5OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG5cdFx0dGhpcy5jYXRlZ29yaWVzLnNvcnQoKTsgLy8gc29ydCBhbmQgZW5zdXJlIEFMTF9DQVRFR09SSUVTIGlzIGZpcnN0IHNlbGVjdGlvblxuXHRcdGlmICh0aGlzLmNhdGVnb3JpZXNbMF0gIT0gQ29uc3RhbnRzLkFMTF9DQVRFR09SSUVTKSB7XG5cdFx0XHRjb25zdCBpbmRleCA9IHRoaXMuY2F0ZWdvcmllcy5pbmRleE9mKENvbnN0YW50cy5BTExfQ0FURUdPUklFUyk7XG5cdFx0XHQvLyB0aGlzLmNhdGVnb3JpZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdHRoaXMuY2F0ZWdvcmllcy51bnNoaWZ0KENvbnN0YW50cy5BTExfQ0FURUdPUklFUyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmNhdGVnb3JpZXMuZmlsdGVyKChjYXQpID0+XG5cdFx0XHRjYXQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxuXHRcdCk7XG5cdH1cblxuXHQvLyBSZW5kZXJzIGVhY2ggc3VnZ2VzdGlvbiBpdGVtLlxuXHRyZW5kZXJTdWdnZXN0aW9uKGNhdDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcblx0XHRlbC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IGNhdCB9KTtcblx0XHQvLyAgZWwuY3JlYXRlRWwoXCJzbWFsbFwiLCB7IHRleHQ6IGJvb2suYXV0aG9yIH0pO1xuXHR9XG5cblx0Ly8gUGVyZm9ybSBhY3Rpb24gb24gdGhlIHNlbGVjdGVkIHN1Z2dlc3Rpb24uXG5cdGFzeW5jIG9uQ2hvb3NlU3VnZ2VzdGlvbihjYXQ6IHN0cmluZywgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkge1xuXG5cdFx0dGhpcy5jcmVhdGVGb2xkZXIodGhpcy5vdXRwdXRGb2xkZXIpOyAvLyBQZXJ0aW5lbnQgUXVlc3Rpb25zIGZvbGRlclxuXHRcdGxldCB0aGVDb250ZW50ID0gJ1xcblxcbiMjIENvbnRhY3RzXFxuPiBbIU5PVEVdXFxuPioqUmVtZW1iZXIgLSBzZW5kIHRoZSBxdWVzdGlvbnMgdG8geW91ciBmcmllbmRzLCBmYW1pbHksIGNvbGxlYWd1ZXMgYW5kIGxvY2FsIGJ1c2luZXNzZXMgZmlyc3QgYW5kIGZvcmVtb3N0IHRvIGF2b2lkIGNlbnRyYWwgY2Vuc29yc2hpcC4qKlxcbj5cXG4+ICpUbyBwb3NlIGEgcGVydGluZW50IHF1ZXN0aW9uLCB0aGUgcXVlc3Rpb24gbXVzdCBmaXJzdCBiZSB1bmFwcG9zZWQuKlxcblxcbkJlbG93IGlzIGEgc2hvcnQgbGlzdCBvZiBzb21lIGNvdW50cnkgcG9saXRpY2FsIHJlcHJlc2VudGF0aXZlcyBhbmQgV0VGIGFsaWduZWQgY29tcGFuaWVzLiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX2xlZ2lzbGF0dXJlc19ieV9jb3VudHJ5JztcblxuXHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdCgnXFxuXFxuIyMjIEdsb2JhbFxcbi0gV0VGIENvbXBhbmllcyAtIGh0dHBzOi8vd3d3LndlZm9ydW0ub3JnL3BhcnRuZXJzI3NlYXJjaCBbTGV0IHRoZW0ga25vdyB3aGVyZSB5b3VyIG1vbmV5IHdpbGwgbm90IGJlIHNwZW50XShodHRwczovL3Byb2plY3RidWJibGVidXJzdC5jb20vQWN0aW9ucy9BY3Rpb24rMTgrLStMZXQrdGhlbStrbm93Ky0rRlRoZVdFRiknKTtcblx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoJ1xcbiMjIyBBdXN0cmFsaWFcXG4tIExpc3QgU2VuYXRvcnMgYW5kIE1lbWJlcnM6IGh0dHBzOi8vd3d3LmFwaC5nb3YuYXUvU2VuYXRvcnNfYW5kX01lbWJlcnMvUGFybGlhbWVudGFyaWFuX1NlYXJjaF9SZXN1bHRzP3E9Jm1lbT0xJnBhcj0tMSZnZW49MCZwcz0wJyk7XG5cdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KCdcXG4jIyMgQ2FuYWRhXFxuLSBMaXN0IG9mIE1QczogaHR0cHM6Ly93d3cub3VyY29tbW9ucy5jYS9tZW1iZXJzL2VuL3NlYXJjaCcpO1xuXHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdCgnXFxuIyMjIEVVXFxuLSBMaXN0IG9mIE1FUHM6IGh0dHBzOi8vd3d3LmV1cm9wYXJsLmV1cm9wYS5ldS9tZXBzL2VuL2Z1bGwtbGlzdC9hbGwnKTtcblx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoJ1xcbiMjIyBGaW5sYW5kXFxuLSBMaXN0IG9mIE1QczogaHR0cHM6Ly93d3cuZWR1c2t1bnRhLmZpL0VOL2thbnNhbmVkdXN0YWphdC9ueWt5aXNldF9rYW5zYW5lZHVzdGFqYXQvUGFnZXMvZGVmYXVsdC5hc3B4Jyk7XG5cdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KCdcXG4jIyMgR2VybWFueVxcbi0gTGlzdCBvZiBNUHM6IGh0dHBzOi8vd3d3LmJ1bmRlc3RhZy5kZS9lbi9tZW1iZXJzJyk7XG5cdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KCdcXG4jIyMgSXJlbGFuZFxcbi0gTGlzdCBvZiBURHMgYW5kIFNlbmF0b3JzOiBodHRwczovL3d3dy5vaXJlYWNodGFzLmllL2VuL21lbWJlcnMvJyk7XG5cdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KCdcXG4jIyMgTmV0aGVybGFuZHNcXG4tIExpc3Qgb2YgTVBzOiBodHRwczovL3d3dy5ob3VzZW9mcmVwcmVzZW50YXRpdmVzLm5sL21lbWJlcnNfb2ZfcGFybGlhbWVudC9tZW1iZXJzX29mX3BhcmxpYW1lbnQnKTtcblx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoJ1xcbiMjIyBOZXcgWmVhbGFuZFxcbi0gTGlzdCBvZiBNUHM6IGh0dHBzOi8vd3d3LnBhcmxpYW1lbnQubnovZW4vbXBzLWFuZC1lbGVjdG9yYXRlcy9tZW1iZXJzLW9mLXBhcmxpYW1lbnQvJyk7XG5cdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KCdcXG4jIyMgTm9yd2F5XFxuLSBMaXN0IG9mIE1QczogaHR0cHM6Ly93d3cuc3RvcnRpbmdldC5uby9lbi9Jbi1FbmdsaXNoL01lbWJlcnMtb2YtdGhlLVN0b3J0aW5nL2N1cnJlbnQtbWVtYmVycy1vZi1wYXJsaWFtZW50LycpO1xuXHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdCgnXFxuIyMjIFN3ZWRlblxcbi0gTGlzdCBvZiBNUHM6IGh0dHBzOi8vd3d3LnJpa3NkYWdlbi5zZS9lbi9NZW1iZXJzLWFuZC1wYXJ0aWVzLycpO1xuXHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdCgnXFxuIyMjIFN3aXR6ZXJsYW5kXFxuLSBMaXN0IG9mIE1QczogaHR0cHM6Ly93d3cucGFybGFtZW50LmNoL2VuL29yZ2FuZS9uYXRpb25hbC1jb3VuY2lsL21lbWJlcnMtbmF0aW9uYWwtY291bmNpbC1hLXonKTtcblx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoJ1xcbiMjIyBVS1xcbi0gU3ByZWFkc2hlZXQgbGlzdCBvZiBNUHM6IGh0dHBzOi8vd3d3LnRoZXl3b3JrZm9yeW91LmNvbS9tcHMvP2Y9Y3N2XFxuLSBGaW5kIHlvdXIgTVA6IGh0dHBzOi8vbWVtYmVycy5wYXJsaWFtZW50LnVrL21lbWJlcnMvY29tbW9uc1xcbi0gRmluZCBhIExvcmQ6IGh0dHBzOi8vbWVtYmVycy5wYXJsaWFtZW50LnVrL21lbWJlcnMvbG9yZHMnKTtcblx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoJ1xcbiMjIyBVU1xcbi0gTGlzdCBvZiBTZW5hdG9yczogaHR0cHM6Ly93d3cuc2VuYXRlLmdvdi9zZW5hdG9ycy8nKTtcblxuXHRcdHRoaXMuY3JlYXRlRmlsZShcIi9QZXJ0aW5lbnQgQ29udGFjdHMubWRcIiwgdGhlQ29udGVudCk7XG5cblxuXHRcdGlmIChjYXQgIT0gQ29uc3RhbnRzLkFMTF9DQVRFR09SSUVTKSB7XG5cdFx0XHR0aGlzLmNhdGVnb3JpZXMgPSBbY2F0XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5jYXRlZ29yaWVzLnNoaWZ0KCk7IC8vIHJlbW92ZSBBTExfQ0FURUdPUklFUyBhbmQgaXRlcmF0ZSB0aHJvdWdoIEFMTCBjYXRlZ29yaWVzXG5cdFx0fVxuXHRcdC8vIEZPUkVFQUNIIFF1ZXN0aW9uIENhdGVnb3J5XG5cdFx0bGV0IHRvdGFsUXVlc3Rpb25Db3VudCA9IDA7XG5cdFx0XG5cdFx0dGhlQ29udGVudCA9IFwiXCI7XG5cdFx0bGV0IGFsbFF1ZXN0aW9uc0NvdW50ID0gMDtcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY2F0ZWdvcmllcy5sZW5ndGg7IGorKykge1xuXHRcdFx0bGV0IGNhdFF1ZXN0aW9uc0NvdW50ID0gMDtcblx0XHRcdGNvbnNvbGUuZGVidWcoYGNhdCAke2p9ID0gJHt0aGlzLmNhdGVnb3JpZXNbal19YCk7XG5cdFx0XHQvLyBHZXQgYWxsIHRoZSBxdWVzdGlvbnNcblx0XHRcdGxldCB0aGVRdWVzdGlvbnMgPSBhd2FpdCB0aGlzLmdldENhdGVnb3J5UXVlc3Rpb25zKHRoaXMuY2F0ZWdvcmllc1tqXSk7XG5cblxuXHRcdFx0Y29uc3QgdGhlRm9sZGVyID0gdGhpcy5vdXRwdXRGb2xkZXIuY29uY2F0KENvbnN0YW50cy5NQUNfRk9MREVSX1NFUEFSQVRPUikuY29uY2F0KHRoaXMuY2F0ZWdvcmllc1tqXSk7XG5cdFx0XHRpZiAodGhlUXVlc3Rpb25zICE9IG51bGwpIHsgLy8gTm8gY2F0ZWdvcnkgcXVlc3Rpb25zLCBzbyBkb24ndCBjcmVhdGUgYSBjYXRlZ29yeSBmb2xkZXIgb3Igb3B0aW9uXG5cdFx0XHRcdC8vIG5lZWQgdGhlIGRpcmVjdG9yeSBzZXBhcmF0b3IgXG5cdFx0XHRcdHRoaXMuY3JlYXRlRm9sZGVyKHRoZUZvbGRlcik7IC8vIENyZWF0ZSB0aGUgY2F0ZWdvcmllc1xuXHRcdFx0XHQvLyBGT1JFQUNIIEVtYWlsIENvbnRhY3Rcblx0XHRcdFx0YWxsUXVlc3Rpb25zQ291bnQgPSBhbGxRdWVzdGlvbnNDb3VudCArIHRoZVF1ZXN0aW9ucy5sZW5ndGg7XG5cdFx0XHRcdGNhdFF1ZXN0aW9uc0NvdW50ID0gdGhlUXVlc3Rpb25zLmxlbmd0aDtcblx0XHRcdFx0aWYgKHRoaXMuY29udGFjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250YWN0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCB0aGVRdWVzdGlvbnMubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0XHRcdFx0bGV0IHRoZVF1ZXN0aW9uID0gdGhlUXVlc3Rpb25zW2tdO1xuXHRcdFx0XHRcdFx0XHR0aGlzLndyaXRlUXVlc3Rpb25GaWxlKHRoZVF1ZXN0aW9uLCB0aGVGb2xkZXIsIHRoaXMuY2F0ZWdvcmllc1tqXSwgdGhpcy5jb250YWN0cy5hdChpKSk7XG5cdFx0XHRcdFx0XHRcdHRvdGFsUXVlc3Rpb25Db3VudCsrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gLy9FbmQgRk9SRUFDSCBjb250YWN0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCB0aGVRdWVzdGlvbnMubGVuZ3RoOyBrKyspIHtcblxuXHRcdFx0XHRcdFx0bGV0IHRoZVF1ZXN0aW9uID0gdGhlUXVlc3Rpb25zW2tdO1xuXHRcdFx0XHRcdFx0dGhpcy53cml0ZVF1ZXN0aW9uRmlsZSh0aGVRdWVzdGlvbiwgdGhlRm9sZGVyLCB0aGlzLmNhdGVnb3JpZXNbal0pO1xuXHRcdFx0XHRcdFx0dG90YWxRdWVzdGlvbkNvdW50Kys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgQ291bGRuJ3QgcmVhZCBhbnkgZmlsZSBhdCAke3RoaXMucXVlc3Rpb25zRm9sZGVyfSBgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFdyaXRlIGluZGV4IGZpbGVzXG5cdFx0XHRcdGNvbnN0IGNhdCA9IHRoaXMuY2F0ZWdvcmllc1tqXTtcblx0XHRcdFx0Y29uc3QgdGhlRmlsZU5hbWUgPSB0aGVGb2xkZXIuY29uY2F0KFwiL1wiKS5jb25jYXQoY2F0ICsgQ29uc3RhbnRzLkNBVF9JTkRFWF9TVUZGSVgpO1xuXHRcdFx0XHR0aGVDb250ZW50ID0gYC0tLVxcbnB1Ymxpc2g6IHRydWVcXG5zZW50OiBmYWxzZVxcbmNhdGVnb3J5OiAke2NhdH1cXG4tLS1cXG4jIyBJbnN0cnVjdGlvbnNcXG4tIFtGQVEgYW5kIEhlbHBdKGh0dHBzOi8vcHJvamVjdGJ1YmJsZWJ1cnN0LmNvbS9QZXJ0aW5lbnQrUXVlc3Rpb25zK0hlbHApXFxuXFxuLSBbU3VwcG9ydCBVc10oaHR0cHM6Ly9wcm9qZWN0YnViYmxlYnVyc3QuY29tL1N1cHBvcnQrVXMpXFxuXFxuIyMgJHtjYXR9IFBlcnRpbmVudCBRdWVzdGlvbnNcXG5gO1xuXHRcdFx0XHRmb3IgKGxldCBxID0gMDsgcSA8IGNhdFF1ZXN0aW9uc0NvdW50OyBxKyspIHtcblx0XHRcdFx0XHRjb25zdCBxUGx1cyA9IHErMTtcblx0XHRcdFx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoXCItIFwiICsgQ29uc3RhbnRzLlBCQl9ST09ULmNvbmNhdChjYXQpICsgYC0ke3FQbHVzfVxcbmApXG5cdFx0XHRcdH1cblx0XHRcdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KENvbnN0YW50cy5GT09URVJfRU1CRUQpO1xuXHRcdFx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoQ29uc3RhbnRzLkVNQUlMX05MICsgQ29uc3RhbnRzLk5VTV9RVUVTVElPTlMgKyBjYXRRdWVzdGlvbnNDb3VudCk7XG5cdFx0XHRcdC8vIGRlYnVnZ2VyO1xuXHRcdFx0XHR0aGlzLmNyZWF0ZUZpbGUodGhlRmlsZU5hbWUsIHRoZUNvbnRlbnQpO1xuXG5cblx0XHR9IC8vRW5kIEZPUkVBQ0ggY2F0ZWdvcnlcblxuXG5cblx0XHR0aGVDb250ZW50ID0gXCJcIjtcblx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoQ29uc3RhbnRzLkZPT1RFUl9FTUJFRCk7XG5cdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KENvbnN0YW50cy5FTUFJTF9OTCArIENvbnN0YW50cy5OVU1fUVVFU1RJT05TICsgYWxsUXVlc3Rpb25zQ291bnQpO1xuXHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdChDb25zdGFudHMuRU1BSUxfTkwgKyBDb25zdGFudHMuVE9UQUxfTlVNX1FVRVNUSU9OUyArIHRvdGFsUXVlc3Rpb25Db3VudCk7XG5cdFx0dGhpcy5jcmVhdGVGaWxlKFwiL0Zvb3Rlci5tZFwiLCB0aGVDb250ZW50KTtcblx0XHRuZXcgTm90aWNlKGAke2NhdH0gcXVlc3Rpb25zIGNyZWF0ZWQvdXBkYXRlZGApO1xuXG5cblx0fVxuXG5cdGlzQUNhbXBhaWduKGNhbXBhaWduOiBzdHJpbmcpIHtcblx0XHRsZXQgaXRJczogYm9vbGVhbiA9IGZhbHNlO1xuXHRcdGlmIChjYW1wYWlnbiA9PSBudWxsKSB7XG5cdFx0XHQ7XG5cdFx0fSBlbHNlIGlmIChjYW1wYWlnbiA9PSB1bmRlZmluZWQpIHtcblx0XHRcdDtcblx0XHR9IGVsc2UgaWYgKGNhbXBhaWduLmNvbnRhaW5zKCd0cnVlJykpIHtcblx0XHRcdGl0SXMgPSB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gaXRJcztcblx0fVxuXHRnZXRUYWdzKHRhZ3M6IHN0cmluZykge1xuXHRcdGxldCB0aGVUYWdzID0gXCJcIjtcblx0XHRpZiAodGFncyA9PSBudWxsKSB7XG5cdFx0XHQ7XG5cdFx0fSBlbHNlIGlmICh0YWdzID09IHVuZGVmaW5lZCkge1xuXHRcdFx0O1xuXHRcdH0gZWxzZSBpZiAodGFncyA9PSBcIlwiKSB7XG5cdFx0XHQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHRoZVRhZ3NBcnJheSA9IHRhZ3Muc3BsaXQoJywnKTtcblx0XHRcdFx0dGhlVGFncyA9IENvbnN0YW50cy5UQUdTX1NQRUNJRklFUi5jb25jYXQoXCIgW1wiKTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGVUYWdzQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoaSAhPSAwKSB7XG5cdFx0XHRcdFx0XHR0aGVUYWdzID0gdGhlVGFncy5jb25jYXQoXCIsXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGVUYWdzID0gdGhlVGFncy5jb25jYXQodGhlVGFnc0FycmF5W2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGVUYWdzID0gdGhlVGFncy5jb25jYXQoXCJdXCIpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBVbmNhdWdodCBleGNlcHRpb24gZ2V0dGluZyB0YWdzOiAke2V9YCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGVUYWdzO1xuXHR9XG5cdGdldERlYWRsaW5lKGRlYWRsaW5lOiBzdHJpbmcpIHtcblx0XHRsZXQgdGhlRGVhZGxpbmUgPSBcIlwiO1xuXHRcdGlmIChkZWFkbGluZSA9PSBudWxsKSB7XG5cdFx0XHQ7XG5cdFx0fSBlbHNlIGlmIChkZWFkbGluZSA9PSB1bmRlZmluZWQpIHtcblx0XHRcdDtcblx0XHR9IGVsc2UgaWYgKGRlYWRsaW5lID09IFwiXCIpIHtcblx0XHRcdDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGhlRGVhZGxpbmUgPSBDb25zdGFudHMuREVBRExJTkVfU1BFQ0lGSUVSLmNvbmNhdChcIiBcIikuY29uY2F0KGRlYWRsaW5lLnJlcGxhY2UoL1xccy9nLCBcIlwiKSk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGV4Y2VwdGlvbiBpbiBnZXREZWFkbGluZTogJHtlfWApO1xuXHRcdFx0fVxuXG5cdFx0fVxuXHRcdHJldHVybiB0aGVEZWFkbGluZTtcblx0fVxuXHRmb3JtYXRIYXNodGFncyh0aGVRdWVzdGlvbjogUXVlc3Rpb25JbmZvKTogc3RyaW5nIHtcblx0XHRsZXQgdGhlVGFncyA9IFwiXCI7XG5cdFx0aWYgKHRoZVF1ZXN0aW9uLnRhZ3MubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgdGFnc0FycmF5ID0gdGhlUXVlc3Rpb24udGFncy5yZXBsYWNlKC8sL2csICcgJykuc3BsaXQoJyAnKTsgLy8gUmVwbGFjZSBjb21tYXMgd2l0aCBzcGFjZXMgYW5kIHRoZW4gc3BsaXRcblx0XHRcdGxldCB0YWdzID0gXCJcIjtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGFnc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHRhZ3MgPSB0YWdzLmNvbmNhdCgnIycpLmNvbmNhdCh0YWdzQXJyYXlbaV0pLmNvbmNhdCgnICcpO1xuXHRcdFx0fVxuXHRcdFx0dGhlVGFncyA9IHRoZVRhZ3MuY29uY2F0KHRhZ3MpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhlVGFncztcblx0fVxuXHRhc3luYyB3cml0ZVF1ZXN0aW9uRmlsZSh0aGVRdWVzdGlvbjogUXVlc3Rpb25JbmZvLCB0aGVGb2xkZXI6IHN0cmluZywgY2F0ZWdvcnk6IHN0cmluZywgY29udGFjdD86IENvbnRhY3QpIHtcblx0XHRjb25zdCB0aGVTdWJqZWN0ID0gQ29uc3RhbnRzLlNVQkpFQ1RfR09FU19IRVJFO1xuXHRcdGNvbnN0IGFDYW1wYWlnbiA9IHRoaXMuaXNBQ2FtcGFpZ24odGhlUXVlc3Rpb24uY2FtcGFpZ24pO1xuXHRcdGxldCBkZWFkbGluZSA9IHRoaXMuZ2V0RGVhZGxpbmUodGhlUXVlc3Rpb24uZGVhZGxpbmUpO1xuXHRcdGlmIChkZWFkbGluZSAhPSBcIlwiKSB7XG5cdFx0XHRkZWFkbGluZSA9IFwiXFxuXCIuY29uY2F0KGRlYWRsaW5lKTtcblx0XHR9XG5cblx0XHRsZXQgdGFncyA9IHRoaXMuZ2V0VGFncyh0aGVRdWVzdGlvbi50YWdzKTtcblx0XHRpZiAodGFncyAhPSBcIlwiKSB7XG5cdFx0XHR0YWdzID0gXCJcXG5cIi5jb25jYXQodGFncyk7XG5cdFx0fVxuXG5cdFx0bGV0IHRoZUZpbGVGcm9udE1hdHRlciA9IFwiXCI7XG5cdFx0aWYgKGFDYW1wYWlnbil7XG5cdFx0XHR0aGVGaWxlRnJvbnRNYXR0ZXIgPSBgLS0tXFxucHVibGlzaDogdHJ1ZVxcbnNlbnQ6IGZhbHNlXFxuYWxpYXM6ICR7dGhlUXVlc3Rpb24uYWxpYXN9XFxuY2F0ZWdvcnk6ICR7Y2F0ZWdvcnl9XFxuY2FtcGFpZ246ICR7YUNhbXBhaWdufSR7ZGVhZGxpbmV9JHt0YWdzfVxcbi0tLVxcbiMjIEluc3RydWN0aW9uc1xcbltGQVEgYW5kIEhlbHBdKGh0dHBzOi8vcHJvamVjdGJ1YmJsZWJ1cnN0LmNvbS9QZXJ0aW5lbnQrUXVlc3Rpb25zK0hlbHApXFxuXFxuLSByZVNlYXJjaCAtIFRoZSBjb250ZW50IGFuZCByZVNlYXJjaCBNZWRpYS4gTWFrZSBzdXJlIHlvdSBwZXJzb25hbGlzZSB5b3VyIGVtYWlsIHdpdGggeW91ciBvd24gcmVhc29uZWQgYXJndW1lbnRzIGFuZCBmZWVsaW5ncy5cXG4tIFNlbmQgSXQhXFxuLSBTaGFyZSBJdCFcXG4tIFtTdXBwb3J0IFVzXShodHRwczovL3Byb2plY3RidWJibGVidXJzdC5jb20vU3VwcG9ydCtVcylcXG5cXG4jIyBTZW5kIEl0XFxuUGVyc29uYWxpc2UgdGhlIG1lc3NhZ2UgYmVsb3dcXG5cXG5gO1xuXHRcdH1lbHNle1xuXHRcdFx0dGhlRmlsZUZyb250TWF0dGVyID0gYC0tLVxcbnB1Ymxpc2g6IHRydWVcXG5zZW50OiBmYWxzZVxcbmFsaWFzOiAke3RoZVF1ZXN0aW9uLmFsaWFzfVxcbmNhdGVnb3J5OiAke2NhdGVnb3J5fSR7dGFnc31cXG4tLS1cXG4jIyBJbnN0cnVjdGlvbnNcXG5bRkFRIGFuZCBIZWxwXShodHRwczovL3Byb2plY3RidWJibGVidXJzdC5jb20vUGVydGluZW50K1F1ZXN0aW9ucytIZWxwKVxcblxcbi0gcmVTZWFyY2ggLSBUaGUgY29udGVudCBhbmQgcmVTZWFyY2ggTWVkaWEuIE1ha2Ugc3VyZSB5b3UgcGVyc29uYWxpc2UgeW91ciBlbWFpbCB3aXRoIHlvdXIgb3duIHJlYXNvbmVkIGFyZ3VtZW50cyBhbmQgZmVlbGluZ3MuXFxuLSBTZW5kIEl0IVxcbi0gU2hhcmUgSXQhXFxuLSBbU3VwcG9ydCBVc10oaHR0cHM6Ly9wcm9qZWN0YnViYmxlYnVyc3QuY29tL1N1cHBvcnQrVXMpXFxuXFxuIyMgU2VuZCBJdFxcblBlcnNvbmFsaXNlIHRoZSBtZXNzYWdlIGJlbG93XFxuXFxuYDtcblx0XHR9XG5cblx0XHRjb25zdCB0aGVRdWVzdGlvbkZpbGU6IHN0cmluZ1tdID0gdGhlUXVlc3Rpb24uYm9keS5zcGxpdChDb25zdGFudHMuRU1BSUxfTkwsIDIpO1xuXHRcdGxldCB0aGVRdWVzdGlvbkZpbGVOYW1lID0gXCJcIjtcblxuXHRcdGlmICh0aGVRdWVzdGlvbi5xc2hvcnQgIT0gdW5kZWZpbmVkICYmIHRoZVF1ZXN0aW9uLnFzaG9ydC5sZW5ndGggPiAwKXtcblx0XHRcdHRoZVF1ZXN0aW9uRmlsZU5hbWUgPSB0aGVRdWVzdGlvbi5xc2hvcnQudHJpbVN0YXJ0KCkudHJpbUVuZCgpO1xuXHRcdH1lbHNle1xuXHRcdFx0dGhlUXVlc3Rpb25GaWxlTmFtZSA9IHRoZVF1ZXN0aW9uRmlsZVswXTtcblx0XHR9XG5cblxuXHRcdGNvbnN0IGluZGV4Qm9keVN0YXJ0ID0gdGhlUXVlc3Rpb24uYm9keS5pbmRleE9mKENvbnN0YW50cy5FTUFJTF9OTCkgKyBDb25zdGFudHMuRU1BSUxfTkwubGVuZ3RoOyAvLyBGaXJzdCBsaW5lIGlzIHRoZSBmaWxlbmFtZVxuXHRcdGNvbnN0IHRoZVF1ZXN0aW9uQm9keSA9IHRoZVF1ZXN0aW9uLmJvZHkuc3Vic3RyaW5nKGluZGV4Qm9keVN0YXJ0KTtcblxuXHRcdGlmIChpbmRleEJvZHlTdGFydCAhPSB1bmRlZmluZWQpIHtcblx0XHRcdGxldCB0aGVCb2R5ID0gXCJcIjtcblx0XHRcdGxldCB0aGVGaWxlTmFtZSA9IFwiXCI7XG5cdFx0XHRpZiAoY29udGFjdCkge1xuXHRcdFx0XHR0aGVCb2R5ID0gYCR7Q29uc3RhbnRzLkZBT30gJHtjb250YWN0LnRpdGxlfSAke2NvbnRhY3QuZmlyc3ROYW1lfSAke2NvbnRhY3QubGFzdE5hbWV9YCArIENvbnN0YW50cy5FTUFJTF9OTCArIGAke3RoZVF1ZXN0aW9uQm9keX1gO1xuXHRcdFx0XHQvLyBDcmVhdGUgUGVydGluZW50IFF1ZXN0aW9ucyBGaWxlIHVzaW5nIEZpcnN0IE5hbWUgYW5kIExhc3QgTmFtZVxuXHRcdFx0XHR0aGVGaWxlTmFtZSA9IHRoZUZvbGRlci5jb25jYXQoXCIvXCIpLmNvbmNhdChjb250YWN0LmZpcnN0TmFtZSArIGNvbnRhY3QubGFzdE5hbWUgKyBcIi1cIiArIHRoZVF1ZXN0aW9uRmlsZU5hbWUgKyBcIi5tZFwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoZUJvZHkgPSBgJHtDb25zdGFudHMuRkFPfWAgKyBDb25zdGFudHMuRU1BSUxfTkwgKyBgJHt0aGVRdWVzdGlvbkJvZHl9YDtcblx0XHRcdFx0dGhlRmlsZU5hbWUgPSB0aGVGb2xkZXIuY29uY2F0KFwiL1wiKS5jb25jYXQodGhlUXVlc3Rpb25GaWxlTmFtZSkgKyBcIi5tZFwiO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRmlsZSBkb2VzIG5vdCBleGlzdCwgc28gY3JlYXRlXG5cdFx0XHRsZXQgdGhlRmlsZSA9IGF3YWl0IHRoaXMuY3JlYXRlRmlsZSh0aGVGaWxlTmFtZSwgdGhlRmlsZUZyb250TWF0dGVyKTtcblxuXG5cdFx0XHRpZiAodGhlRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdGxldCB0aGVDb250ZW50ID0gXCJcIjtcblx0XHRcdFx0bGV0IHJlID0gL1wiL2c7XG5cdFx0XHRcdGNvbnN0IGxpbmVTdGFydCA9IENvbnN0YW50cy5FTUFJTF9OTC5jb25jYXQoQ29uc3RhbnRzLkVNQUlMX1NPTCk7XG5cdFx0XHRcdHRoZUJvZHkgPSB0aGVCb2R5LmNvbmNhdChsaW5lU3RhcnQpO1xuXHRcdFx0XHR0aGVCb2R5ID0gdGhlQm9keS5jb25jYXQoYE1vcmUgQWJvdXQgJHtjYXRlZ29yeX06IGApLmNvbmNhdChDb25zdGFudHMuUEJCX1BRX0RJUikuY29uY2F0KGNhdGVnb3J5KS5jb25jYXQoYC8ke2NhdGVnb3J5fS1JbmRleGApO1xuXHRcdFx0XHRcblx0XHRcdFx0dGhlQm9keSA9IHRoZUJvZHkucmVwbGFjZShyZSwgXCIlMjJcIikgLy8gRXNjYXBlIGRvdWJsZSBxdW90ZSBjaGFyc1xuXHRcdFx0XHRyZSA9IC9gL2c7XG5cdFx0XHRcdHRoZUJvZHkgPSB0aGVCb2R5LnJlcGxhY2UocmUsIFwiJTYwXCIpIC8vIEVzY2FwZSBkb3VibGUgcXVvdGVcblx0XHRcdFx0cmUgPSAvLS0tKFxcbnwuKSo/LS0tL2c7XG5cdFx0XHRcdHRoZUJvZHkgPSB0aGVCb2R5LnJlcGxhY2UocmUsIFwiXCIpIC8vIFJlbW92ZSBhbnkgZnJvbnQgbWF0dGVyIGtlcHQgaW4gZXJyb3Jcblx0XHRcdFx0aWYgKGNvbnRhY3QpIHtcblx0XHRcdFx0XHR0aGVDb250ZW50ID0gXCJgYGBlbWFpbFxcblwiLmNvbmNhdChgdG86ICR7Y29udGFjdC5lbWFpbEFkZHJlc3N9XFxuc3ViamVjdDogJHt0aGVTdWJqZWN0fVxcbmApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIE5vIGNvbnRhY3Qgc28ganVzdCBnZW5lcmF0aW5nIGFuIGV4YW1wbGUgZW1haWxcblx0XHRcdFx0XHR0aGVDb250ZW50ID0gXCJgYGBlbWFpbFxcblwiLmNvbmNhdChgdG86IHNvbWVvbmVAZXhhbXBsZS5jb21cXG5zdWJqZWN0OiAke3RoZVN1YmplY3R9XFxuYCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdChgYm9keTogXFxcIiR7dGhlQm9keX1cXFwiXFxuYCkuY29uY2F0KFwiYGBgXFxuXCIpO1xuXHRcdFx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoQ29uc3RhbnRzLkVNQUlMX05MKS5jb25jYXQoJ1xcbj4gWyFOT1RFXSBOb3RlXFxuPlBsZWFzZSBzZWUgW1tQZXJ0aW5lbnQgQ29udGFjdHN8Q29udGFjdHNdXSBmb3IgcG9saXRpY2FsIHJlcHJlc2VudGF0aXZlcyBhbmQgb3RoZXIgaWRlYXMgZm9yIHdobyB0byBzZW5kIGluZm9ybWF0aW9uXFxuIyMgU2hhcmUgSXRcXG4nKTtcblx0XHRcdFx0Ly9cdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbnN0cnVjdFR3ZWV0KHR3ZWV0KTtcblx0XHRcdFx0Ly8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VSTF9lbmNvZGluZ1xuXG5cdFx0XHRcdGxldCB0d2VldCA9IENvbnN0YW50cy5UV0VFVDtcblx0XHRcdFx0bGV0IHR3ZWV0Qm9keSA9IHRoaXMuZm9ybWF0SGFzaHRhZ3ModGhlUXVlc3Rpb24pO1xuXG5cdFx0XHRcdHJlID0gLyAvZztcblx0XHRcdFx0dHdlZXRCb2R5ID0gdHdlZXRCb2R5LmNvbmNhdChDb25zdGFudHMuUEJCX1BRX0RJUikuY29uY2F0KHRoZVF1ZXN0aW9uRmlsZU5hbWUucmVwbGFjZShyZSwgJysnKSk7XG5cdFx0XHRcdHR3ZWV0ID0gdHdlZXQuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0d2VldEJvZHkpKS5jb25jYXQoJylcXG4nKTtcblx0XHRcdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KHR3ZWV0KTtcblxuXHRcdFx0XHRsZXQgZmIgPSBDb25zdGFudHMuRkFDRUJPT0tfUE9TVDtcblx0XHRcdFx0bGV0IGZiQm9keSA9IHRoaXMuZm9ybWF0SGFzaHRhZ3ModGhlUXVlc3Rpb24pO1xuXG5cdFx0XHRcdGZiQm9keSA9IGZiQm9keS5jb25jYXQoQ29uc3RhbnRzLlBCQl9QUV9ESVIpLmNvbmNhdCh0aGVRdWVzdGlvbkZpbGVOYW1lLnJlcGxhY2UocmUsICcrJykpO1xuXHRcdFx0XHRmYiA9IGZiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZmJCb2R5KSkuY29uY2F0KCcpXFxuXFxuJyk7XG5cdFx0XHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdChmYik7XG5cblxuXHRcdFx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoQ29uc3RhbnRzLlJFU0VBUkNIX01FRElBX0hFQURJTkcpO1xuXHRcdFx0XHRpZiAodGhlUXVlc3Rpb24uaW1hZ2UubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdHRoZUNvbnRlbnQgPSB0aGVDb250ZW50LmNvbmNhdChDb25zdGFudHMuRU1BSUxfTkwpLmNvbmNhdCh0aGVRdWVzdGlvbi5pbWFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KENvbnN0YW50cy5WSURFT19IRUFESU5HKTtcblx0XHRcdFx0aWYgKHRoZVF1ZXN0aW9uLnZpZGVvLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHQvLyB0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoQ29uc3RhbnRzLlZJREVPX0VNQkVEMSkuY29uY2F0KHRoZVF1ZXN0aW9uLnZpZGVvKS5jb25jYXQoQ29uc3RhbnRzLlZJREVPX0VNQkVEMik7XG5cdFx0XHRcdFx0dGhlQ29udGVudCA9IHRoZUNvbnRlbnQuY29uY2F0KHRoZVF1ZXN0aW9uLnZpZGVvKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGVDb250ZW50ID0gdGhlQ29udGVudC5jb25jYXQoQ29uc3RhbnRzLkVNQUlMX05MKS5jb25jYXQoQ29uc3RhbnRzLkZPT1RFUl9TUEVDSUZJRVIpO1xuXHRcdFx0XHRcblxuXG5cblxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuYXBwZW5kKHRoZUZpbGUsIHRoZUNvbnRlbnQpO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihgQ291bGQgbm90IGFwcGVuZCB0byBmaWxlOiAke3RoZUZpbGVOYW1lfSBkdWUgdG8gJHtlfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgLSBjb3VsZCBub3QgY3JlYXRlIGZpbGUgZm9yICR7dGhlRmlsZU5hbWV9YCk7XG5cdFx0XHR9XG5cdFx0fSAvLyBlbmRpZiBpbmRleCB1bmRlZmluZWRcblx0fVxuXG5cdC8vIGZ1bmN0aW9uIGNvbnN0cnVjdFR3ZWV0KHN0cjogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG5cdC8vIFx0Y29uc3QgcmVnZXggPSAvXFwvKFteXFwvXSopXFwvLztcblx0Ly8gXHRjb25zdCBtYXRjaCA9IHN0ci5tYXRjaChyZWdleCk7XG5cblx0Ly8gXHRyZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7XG5cdC8vIH1cblxuXHRhc3luYyBjcmVhdGVGaWxlKHRoZUZpbGVQYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8VEZpbGUgfCBudWxsPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghZmlsZUV4aXN0cyh0aGVGaWxlUGF0aCwgdGhpcy5hcHApKSB7XG5cdFx0XHRcdGxldCBjcmVhdGVkRmlsZSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZSh0aGVGaWxlUGF0aCwgY29udGVudClcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgREVCVUc6Q3JlYXRlZCBGaWxlICR7dGhlRmlsZVBhdGh9YCk7XG5cdFx0XHRcdHJldHVybiBjcmVhdGVkRmlsZTtcblx0XHRcdH1cblxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYGNyZWF0ZUZpbGU6IGZpbGVQYXRoOiAkdGhlRmlsZVBhdGgsIGVycm9yOiAke2V9YCk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdGFzeW5jIGNyZWF0ZUZvbGRlcih0aGVGb2xkZXI6IHN0cmluZykge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIWZvbGRlckV4aXN0cyh0aGVGb2xkZXIsIHRoaXMuYXBwKSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIodGhlRm9sZGVyKTtcblxuXHRcdFx0fVxuXG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHR9XG5cdH1cblxuXHQvLyBnZXRDYXRlZ29yeVF1ZXN0aW9ucyBhZGRzIHRoZSBmaWxlIG5hbWUgYXMgdGhlIGZpcnN0IGxpbmUvZWxlbWVudCBpbiB0aGUgcmV0dXJuIHN0cmluZ1xuXHRhc3luYyBnZXRDYXRlZ29yeVF1ZXN0aW9ucyhjYXRlZ29yeTogc3RyaW5nKTogUHJvbWlzZTxRdWVzdGlvbkluZm9bXSB8IG51bGw+IHtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBjb25jYXQgdGhlIC8gYXMgYWxsIGZvbGRlcnMgbmVlZCB0byBiZSBkZXZvaWQgb2YgLyBzbGFzaGVzIHRvIHdvcmsgd2l0aCBhYnN0cmFjdEZpbGVQYXRoIGltcGwgSSBoYXZlXG5cdFx0XHRjb25zdCBmb2xkZXJPckZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5xdWVzdGlvbnNGb2xkZXIuY29uY2F0KENvbnN0YW50cy5NQUNfRk9MREVSX1NFUEFSQVRPUi5jb25jYXQoY2F0ZWdvcnkpKSk7XG5cblx0XHRcdGlmIChmb2xkZXJPckZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG5cdFx0XHRcdGNvbnN0IHRoZVF1ZXN0aW9uczogUXVlc3Rpb25JbmZvW10gPSBbXTtcblx0XHRcdFx0Zm9yIChsZXQgY2hpbGQgb2YgZm9sZGVyT3JGaWxlLmNoaWxkcmVuKSB7XG5cdFx0XHRcdFx0aWYgKGNoaWxkIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdFx0XHRcdGlmIChjaGlsZC5leHRlbnNpb24uZW5kc1dpdGgoXCJtZFwiKSkge1xuXHRcdFx0XHRcdFx0XHRsZXQgdGhlUXVlc3Rpb25MaW5lcyA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoY2hpbGQpO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBpbmRleCA9IGNoaWxkLnBhdGgubGFzdEluZGV4T2YoQ29uc3RhbnRzLk1BQ19GT0xERVJfU0VQQVJBVE9SKTsgLy8gRm9sZGVyIHBhdGggLyBmaWxlTmFtZVxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IHRoZUZpbGVGdWxsUGF0aCA9IGNoaWxkLnBhdGggKyBcIlxcblwiOyAvLyBBZGQgZmlsZSBuYW1lXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGhlUXVlc3Rpb246IFF1ZXN0aW9uSW5mbyA9IHsgYm9keTogXCJcIiwgaW1hZ2U6IFwiXCIsIHZpZGVvOiBcIlwiLCB0YWdzOiBcIlwiLCBjYW1wYWlnbjogXCJcIiwgZGVhZGxpbmU6IFwiXCIsIGFsaWFzOiBcIlwiLCBxc2hvcnQ6IFwiXCIgfTtcblx0XHRcdFx0XHRcdFx0XHR0aGVRdWVzdGlvbi5ib2R5ID0gdGhlRmlsZUZ1bGxQYXRoLnN1YnN0cmluZyhpbmRleCArIDEsIHRoZUZpbGVGdWxsUGF0aC5sZW5ndGggLSA0KTsgLy8gRmlyc3QgbGluZSBvZiBpbnRlcmltIGZpbGUgaXMgZmlsZW5hbWVcblxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHF1ZXN0aW9uTGluZXMgPSB0aGVRdWVzdGlvbkxpbmVzLnNwbGl0KFwiXFxuXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmVTdGFydCA9IENvbnN0YW50cy5FTUFJTF9OTC5jb25jYXQoQ29uc3RhbnRzLkVNQUlMX1NPTCk7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBxdWVzdGlvbkxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChxdWVzdGlvbkxpbmVzW2ldLmNvbnRhaW5zKENvbnN0YW50cy5JTUFHRV9TUEVDSUZJRVIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoZVF1ZXN0aW9uLmltYWdlID0gcXVlc3Rpb25MaW5lc1tpXS5zcGxpdChDb25zdGFudHMuSU1BR0VfU1BFQ0lGSUVSKVsxXTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocXVlc3Rpb25MaW5lc1tpXS5jb250YWlucyhDb25zdGFudHMuVklERU9fU1BFQ0lGSUVSKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVRdWVzdGlvbi52aWRlbyA9IHF1ZXN0aW9uTGluZXNbaV0uc3BsaXQoQ29uc3RhbnRzLlZJREVPX1NQRUNJRklFUilbMV07XG5cblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocXVlc3Rpb25MaW5lc1tpXS5jb250YWlucyhDb25zdGFudHMuVEFHU19TUEVDSUZJRVIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoZVF1ZXN0aW9uLnRhZ3MgPSBxdWVzdGlvbkxpbmVzW2ldLnNwbGl0KENvbnN0YW50cy5UQUdTX1NQRUNJRklFUilbMV07XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHF1ZXN0aW9uTGluZXNbaV0uY29udGFpbnMoQ29uc3RhbnRzLkNBTVBBSUdOX1NQRUNJRklFUikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlUXVlc3Rpb24uY2FtcGFpZ24gPSBxdWVzdGlvbkxpbmVzW2ldLnNwbGl0KENvbnN0YW50cy5DQU1QQUlHTl9TUEVDSUZJRVIpWzFdO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChxdWVzdGlvbkxpbmVzW2ldLmNvbnRhaW5zKENvbnN0YW50cy5ERUFETElORV9TUEVDSUZJRVIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoZVF1ZXN0aW9uLmRlYWRsaW5lID0gcXVlc3Rpb25MaW5lc1tpXS5zcGxpdChDb25zdGFudHMuREVBRExJTkVfU1BFQ0lGSUVSKVsxXTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocXVlc3Rpb25MaW5lc1tpXS5jb250YWlucyhDb25zdGFudHMuQUxJQVNfU1BFQ0lGSUVSKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVRdWVzdGlvbi5hbGlhcyA9IHF1ZXN0aW9uTGluZXNbaV0uc3BsaXQoQ29uc3RhbnRzLkFMSUFTX1NQRUNJRklFUilbMV07XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChxdWVzdGlvbkxpbmVzW2ldLmNvbnRhaW5zKENvbnN0YW50cy5RU0hPUlRfU1BFQ0lGSUVSKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVRdWVzdGlvbi5xc2hvcnQgPSBxdWVzdGlvbkxpbmVzW2ldLnNwbGl0KENvbnN0YW50cy5RU0hPUlRfU1BFQ0lGSUVSKVsxXTtcdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChxdWVzdGlvbkxpbmVzW2ldLmNvbnRhaW5zKENvbnN0YW50cy5GT09URVJfU1BFQ0lGSUVSKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQ7IC8vIEZpbHRlciBpdCBvdXQsIGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIFBRIHBhZ2Vcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoZVF1ZXN0aW9uLmJvZHkgKz0gbGluZVN0YXJ0LmNvbmNhdChxdWVzdGlvbkxpbmVzW2ldKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdH0gLy8gZW5kZm9yXG5cdFx0XHRcdFx0XHRcdFx0dGhlUXVlc3Rpb25zLnVuc2hpZnQodGhlUXVlc3Rpb24pO1xuXHRcdFx0XHRcdFx0XHR9IC8vIGVuZGlmIGluZGV4IFxuXHRcdFx0XHRcdFx0fS8vIGVuZGlmIG1kXG5cdFx0XHRcdFx0fS8vIGVuZGlmIGNoaWxkXG5cdFx0XHRcdH0gLy9lbmRmb3IgY2hpbGRcblxuXHRcdFx0XHRyZXR1cm4gdGhlUXVlc3Rpb25zO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBFeHBlY3RlZCBmb2xkZXIgaW4gZ2V0Q2F0ZWdvcnlRdWVzdGlvbnMgcGFyYW0gYnV0IHNlbnQgJHt0aGlzLnF1ZXN0aW9uc0ZvbGRlci5jb25jYXQoY2F0ZWdvcnkpfWApO1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblxuXG5cblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cblxuY2xhc3MgUGVydGluZW50U2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IFBlcnRpbmVudFF1ZXN0aW9ucztcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBQZXJ0aW5lbnRRdWVzdGlvbnMpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnR2VuZXJhbCBTZXR0aW5ncycgfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdRdWVzdGlvbnMgRm9sZGVyJylcblx0XHRcdC5zZXREZXNjKCdFbnRlciB0aGUgRm9sZGVyIExvY2F0aW9uJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIFF1ZXN0aW9ucyBGb2xkZXInKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucXVlc3Rpb25zRm9sZGVyKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZygnUXVlc3Rpb25zIExvY2F0aW9uOiAnICsgdmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnF1ZXN0aW9uc0ZvbGRlciA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdRdWVzdGlvbnMgT3V0cHV0IEZvbGRlcicpXG5cdFx0XHQuc2V0RGVzYygnRW50ZXIgdGhlIFBlcnRpbmVudCBRdWVzdGlvbnMgT3V0cHV0IEZvbGRlciBMb2NhdGlvbicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBQZXJ0aW5lbnQgUXVlc3Rpb25zIE91dHB1dCBGb2xkZXInKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3V0cHV0Rm9sZGVyKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZygnT3V0cHV0IEZvbGRlciBMb2NhdGlvbjogJyArIHZhbHVlKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vdXRwdXRGb2xkZXIgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShDb25zdGFudHMuQ09OVEFDVFNfSU1QT1JUX0ZJTEUpXG5cdFx0XHQuc2V0RGVzYygnRW50ZXIgdGhlIENvbnRhY3RzIEltcG9ydCBGaWxlIExvY2F0aW9uJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoQ29uc3RhbnRzLkNPTlRBQ1RTX0ZJTEVfTE9DQVRJT04pXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb250YWN0c0ZpbGUpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb250YWN0c0ZpbGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG59XG5cbiIsICJleHBvcnQgY2xhc3MgQXBwU2V0dGluZ3N7XG4gICAgcHVibGljIHN0YXRpYyBFTUFJTF9OTCA9IGBcXG5cXG5gOy8vIEVtYWlsIG5ldyBsaW5lXG4gICAgcHVibGljIHN0YXRpYyAgRU1BSUxfU09MID0gYCAgYDsgLy9FbWFpbCBzdGFydCBvZiBsaW5lXG4gICAgcHVibGljIHN0YXRpYyBNQUNfRk9MREVSX1NFUEFSQVRPUiA9IGAvYDtcbiAgICBwdWJsaWMgc3RhdGljIEFMTF9DQVRFR09SSUVTID0gXCJBbGwgQ2F0ZWdvcmllc1wiO1xuICAgIHB1YmxpYyBzdGF0aWMgQ1JFQVRFX1BFUlRJTkVOVF9RVUVTVElPTlMgPSAnQ3JlYXRlIFBlcnRpbmVudCBRdWVzdGlvbnMnO1xuICAgIHB1YmxpYyBzdGF0aWMgU1VCSkVDVF9HT0VTX0hFUkUgPSBcIlNVQkpFQ1QgR09FUyBIRVJFXCI7XG4gICAgcHVibGljIHN0YXRpYyBGQU8gPSBcIkZBT1wiO1xuICAgIHB1YmxpYyBzdGF0aWMgQ09OVEFDVFNfRklMRV9MT0NBVElPTiA9ICdFbnRlciBDb250YWN0cyBGaWxlIExvY2F0aW9uJztcbiAgICBwdWJsaWMgc3RhdGljIENPTlRBQ1RTX0lNUE9SVF9GSUxFID0gJ0NvbnRhY3RzIEltcG9ydCBGaWxlJztcbiAgICBwdWJsaWMgc3RhdGljIENBVF9JTkRFWF9TVUZGSVggPSAnLUluZGV4Lm1kJztcbiAgICBwdWJsaWMgc3RhdGljIElNQUdFX1NQRUNJRklFUiA9IGBpbWFnZTpgO1xuICAgIHB1YmxpYyBzdGF0aWMgVklERU9fU1BFQ0lGSUVSID0gYHZpZGVvOmA7XG4gICAgcHVibGljIHN0YXRpYyBDQU1QQUlHTl9TUEVDSUZJRVIgPSBgY2FtcGFpZ246YDtcbiAgICBwdWJsaWMgc3RhdGljIERFQURMSU5FX1NQRUNJRklFUiA9IGBkZWFkbGluZTpgO1xuICAgIHB1YmxpYyBzdGF0aWMgUVNIT1JUX1NQRUNJRklFUiA9IGBxc2hvcnQ6YDtcbiAgICBwdWJsaWMgc3RhdGljIEFMSUFTX1NQRUNJRklFUiA9IGBhbGlhczpgO1xuICAgIHB1YmxpYyBzdGF0aWMgRk9PVEVSX1NQRUNJRklFUiA9IGAhW1tGb290ZXJdXWA7XG4gICAgcHVibGljIHN0YXRpYyBGT09URVJfRU1CRUQgPSBgPGRpdiBhbGlnbj1jZW50ZXI+PGlmcmFtZSBzcmM9XCJodHRwczovL3Byb2plY3RidWJibGVidXJzdC5zdWJzdGFjay5jb20vZW1iZWRcIiB3aWR0aD1cIjQ4MFwiIGhlaWdodD1cIjMyMFwiIHN0eWxlPVwiYm9yZGVyOjFweCBzb2xpZCAjRUVFOyBiYWNrZ3JvdW5kOmJsYWNrO1wiIGZyYW1lYm9yZGVyPVwiMFwiIHNjcm9sbGluZz1cIm5vXCI+PC9pZnJhbWU+PC9kaXY+PGRpdiBhbGlnbj1jZW50ZXI+UHJvamVjdEJ1YmJsZUJ1cnN0IC0gQ3JpdGljYWwgVGhpbmtpbmcgaW4gYSBQYW5kZW1pYyBvZiBVbnJlYXNvbi4gIFx0PGJyLz4gPGI+VEhJTks8L2I+IC0gV2hpbGUgSXQgSXMgU3RpbGwgTGVnYWwuLi48L2Rpdj5gO1xuLy8gICAgcHVibGljIHN0YXRpYyBWSURFT19FTUJFRDEgPSBgPGNlbnRlcj48aWZyYW1lIHdpZHRoPVwiNTYwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiYDtcbi8vICAgIHB1YmxpYyBzdGF0aWMgVklERU9fRU1CRUQyID0gYFwiIGZyYW1lYm9yZGVyPVwiMFwiIGF1dG9wbGF5PVwiMFwiIGF1dG9zdGFydD1cIjBcIiBhbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+PC9jZW50ZXI+YFxuICAgIHB1YmxpYyBzdGF0aWMgVklERU9fRU1CRUQxID0gYDx2aWRlbyB3aWR0aD1cIjYwMFwiIGhlaWdodD1cIjQwMFwiIHNyYz1cImA7XG4gICAgcHVibGljIHN0YXRpYyBWSURFT19FTUJFRDIgPSBgXCIgY29udHJvbHM+PC92aWRlbz5gO1xuICAgIHB1YmxpYyBzdGF0aWMgVEFHU19TUEVDSUZJRVIgPSBgdGFnczpgO1xuICAgIHB1YmxpYyBzdGF0aWMgVVJJX1BMVVMgPSBgJTJCYDtcbiAgICBwdWJsaWMgc3RhdGljIFVSSV9TUEFDRSA9IGAlMjBgO1xuICAgIHB1YmxpYyBzdGF0aWMgUEJCX1BRX0RJUiA9IGBodHRwczovL3Byb2plY3RidWJibGVidXJzdC5jb20vUGVydGluZW50K1F1ZXN0aW9ucy9gO1xuICAgIHB1YmxpYyBzdGF0aWMgUEJCX1JPT1QgPSBgaHR0cHM6Ly9wcm9qZWN0YnViYmxlYnVyc3QuY29tL2A7XG4gICAgcHVibGljIHN0YXRpYyBWSURFT19IRUFESU5HID0gYFxcbiMjIyBWaWRlb1xcbmA7XG4gICAgcHVibGljIHN0YXRpYyBSRVNFQVJDSF9NRURJQV9IRUFESU5HID0gYCMjIHJlU2VhcmNoIE1lZGlhXFxuIyMjIEltYWdlXFxuYDtcbiAgICBwdWJsaWMgc3RhdGljIFRXRUVUID0gYFtUd2l0dGVyXShodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PWA7XG4gICAgcHVibGljIHN0YXRpYyBGQUNFQk9PS19QT1NUID0gYFtGYWNlYm9va10oaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT1gO1xuICAgIHB1YmxpYyBzdGF0aWMgTlVNX1FVRVNUSU9OUyA9IGBOdW1iZXIgb2YgSW5kaXZpZHVhbCBQZXJ0aW5lbnQgUXVlc3Rpb25zID0gYDtcbiAgICBwdWJsaWMgc3RhdGljIFRPVEFMX05VTV9RVUVTVElPTlMgPSBgVG90YWwgTnVtYmVyIG9mIFBlcnRpbmVudCBRdWVzdGlvbnMgPSBgO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFnSjs7O0FDQXpJLElBQU0sY0FBTixNQUFpQjtBQWtDeEI7QUFsQ2EsWUFDSyxXQUFXO0FBQUE7QUFBQTtBQUFBO0FBRGhCLFlBRU0sWUFBWTtBQUFBO0FBRmxCLFlBR0ssdUJBQXVCO0FBSDVCLFlBSUssaUJBQWlCO0FBSnRCLFlBS0ssNkJBQTZCO0FBTGxDLFlBTUssb0JBQW9CO0FBTnpCLFlBT0ssTUFBTTtBQVBYLFlBUUsseUJBQXlCO0FBUjlCLFlBU0ssdUJBQXVCO0FBVDVCLFlBVUssbUJBQW1CO0FBVnhCLFlBV0ssa0JBQWtCO0FBWHZCLFlBWUssa0JBQWtCO0FBWnZCLFlBYUsscUJBQXFCO0FBYjFCLFlBY0sscUJBQXFCO0FBZDFCLFlBZUssbUJBQW1CO0FBZnhCLFlBZ0JLLGtCQUFrQjtBQWhCdkIsWUFpQkssbUJBQW1CO0FBakJ4QixZQWtCSyxlQUFlO0FBQUE7QUFBQTtBQWxCcEIsWUFxQkssZUFBZTtBQXJCcEIsWUFzQkssZUFBZTtBQXRCcEIsWUF1QkssaUJBQWlCO0FBdkJ0QixZQXdCSyxXQUFXO0FBeEJoQixZQXlCSyxZQUFZO0FBekJqQixZQTBCSyxhQUFhO0FBMUJsQixZQTJCSyxXQUFXO0FBM0JoQixZQTRCSyxnQkFBZ0I7QUFBQTtBQUFBO0FBNUJyQixZQTZCSyx5QkFBeUI7QUFBQTtBQUFBO0FBN0I5QixZQThCSyxRQUFRO0FBOUJiLFlBK0JLLGdCQUFnQjtBQS9CckIsWUFnQ0ssZ0JBQWdCO0FBaENyQixZQWlDSyxzQkFBc0I7OztBREV4QyxJQUFNLG1CQUEr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
